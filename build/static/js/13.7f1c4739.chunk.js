(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[13],{526:function(e,s,t){"use strict";t.r(s),t.d(s,"UserList",(function(){return D}));var a=t(0),c=t(269),r=t(200),i=t(122),l=t(539),n=t(538),d=t(272),o=t(543),j=t(452),m=t(486),b=t(460),h=t(467),x=t(465),u=t(5);class p extends a.Component{render(){const{data:e,visible:s,close:t}=this.props;return Object(u.jsxs)(j.a,{width:300,placement:"right",onClose:t,closable:!1,visible:s,children:[Object(u.jsx)("div",{className:"text-center mt-3",children:Object(u.jsx)("h3",{className:"mt-2 mb-0",children:null===e||void 0===e?void 0:e.name})}),Object(u.jsx)(m.a,{dashed:!0}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"Account details"}),Object(u.jsxs)("p",{children:[Object(u.jsx)(b.a,{}),Object(u.jsxs)("span",{className:"ml-3 text-dark",children:["id: ",null===e||void 0===e?void 0:e.id]})]})]}),Object(u.jsxs)("div",{className:"mt-5",children:[Object(u.jsx)("h6",{className:"text-muted text-uppercase mb-3",children:"CONTACT"}),Object(u.jsxs)("p",{children:[Object(u.jsx)(h.a,{}),Object(u.jsx)("span",{className:"ml-3 text-dark",children:null===e||void 0===e?void 0:e.phone})]}),Object(u.jsxs)("p",{children:[Object(u.jsx)(x.a,{}),Object(u.jsx)("span",{className:"ml-3 text-dark",children:null!==e&&void 0!==e&&e.email?null===e||void 0===e?void 0:e.email:"-"})]})]})]})}}var O=p,v=t(46),U=t(523);var N=e=>{const{name:s,suffix:t,subTitle:a,id:c,src:r,onNameClick:i}=e,l=Object(v.useLocation)();return Object(u.jsx)("div",{className:"avatar-status d-flex align-items-center",children:Object(u.jsxs)("div",{className:"ml-2",children:[Object(u.jsxs)("div",{children:[i?Object(u.jsx)("div",{onClick:()=>i({name:s,subTitle:a,src:r,id:c}),className:"avatar-status-name clickable",children:s}):Object(u.jsx)("div",{className:"avatar-status-name",children:Object(u.jsx)(U.NavLink,{to:l.pathname.replace("/all","")+"/"+c,children:s})}),Object(u.jsx)("span",{children:t})]}),Object(u.jsx)("div",{className:"text-muted avatar-status-subtitle",children:a})]})})},f=t(39),C=t(275);var y=t(19);const g={getUsers:function(){return fetch(y.a+"/users").then((e=>e.json()))}};var k=g;class D extends a.Component{constructor(){super(...arguments),this.componentDidMount=()=>{k.getUsers().then((e=>{this.props.getUsersData(e)}))},this.state={userProfileVisible:!1,selectedUser:null},this.deleteUser=e=>{this.props.deleteUser(e),c.b.success({content:"Deleted user ".concat(e),duration:2})},this.showUserProfile=e=>{this.setState({userProfileVisible:!0,selectedUser:e})},this.closeUserProfile=()=>{this.setState({userProfileVisible:!1,selectedUser:null})}}render(){const e=this.props.usersData,{userProfileVisible:s,selectedUser:t}=this.state,a=[{title:"User",dataIndex:"name",render:(e,s)=>Object(u.jsx)("div",{className:"d-flex",children:Object(u.jsx)(N,{name:s.name,subTitle:s.email,id:s.id})}),sorter:{compare:(e,s)=>(e=e.name.toLowerCase())>(s=s.name.toLowerCase())?-1:s>e?1:0}},{title:"Username",dataIndex:"username",sorter:{compare:(e,s)=>e.username.localeCompare(s.username)}},{title:"City",dataIndex:"address",render:e=>Object(u.jsx)("div",{children:e.city}),sorter:{compare:(e,s)=>e.address.city.localeCompare(s.address.city)}},{title:"Company",dataIndex:"company",render:e=>Object(u.jsx)("div",{children:e.name}),sorter:{compare:(e,s)=>e.address.city.localeCompare(s.address.city)}},{title:"",dataIndex:"actions",render:(e,s)=>Object(u.jsxs)("div",{className:"text-right",children:[Object(u.jsx)(r.a,{title:"View",children:Object(u.jsx)(i.a,{type:"primary",className:"mr-2",icon:Object(u.jsx)(d.a,{}),onClick:()=>{this.showUserProfile(s)},size:"small"})}),Object(u.jsx)(r.a,{title:"Delete",children:Object(u.jsx)(i.a,{danger:!0,icon:Object(u.jsx)(o.a,{}),onClick:()=>{this.deleteUser(s.id)},size:"small"})})]})}];return Object(u.jsxs)(l.a,{bodyStyle:{padding:"0px"},children:[Object(u.jsx)(n.a,{columns:a,dataSource:e,rowKey:"id"}),Object(u.jsx)(O,{data:t,visible:s,close:()=>{this.closeUserProfile()}})]})}}const w={getUsersData:e=>({type:C.GET_USERS_DATA,users:e}),deleteUser:e=>({type:C.DELETE_USER,userID:e})};s.default=Object(f.b)((e=>{let{users:s}=e;const{loading:t,usersData:a}=s;return{loading:t,usersData:a}}),w)(D)}}]);
//# sourceMappingURL=13.7f1c4739.chunk.js.map